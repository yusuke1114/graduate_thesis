\documentclass[titlepage]{jsreport}

\usepackage[dvipdfmx]{graphicx}
\usepackage[dvipdfmx]{color}
\usepackage{listings}

% jlistingの代わりに以下をプリアンブル（\begin{document}の前）に追加
\renewcommand{\lstlistingname}{ソースコード}
\renewcommand{\lstlistlistingname}{ソースコード目次}
\usepackage{cite}
\usepackage{url}

% ソースコードを挿入するための設定
\lstset{
language={Python},
basicstyle={\ttfamily\small},
backgroundcolor={\color[gray]{.95}},
keywordstyle={\color[rgb]{0.0,0.0,0.8}},
commentstyle={\color[rgb]{0.5,0.5,0.5}},
stringstyle={\color[rgb]{0.0,0.5,0.5}},
frame=single,
numbers=left,
numberstyle={\ttfamily\small},
breaklines=true,
breakindent = 10pt,
tabsize=2,
captionpos=t
}

\title{ゼロインテリジェンストレーダー市場における機械学習トレーダーの影響の解析}
\author{慶應義塾大学理工学部物理情報工学科\\
指導教員　渡辺宙志\\
学籍番号　62219191\\
箕輪勇佑}
\date{2026年3月}

\begin{document}
\pagenumbering{roman}
\maketitle
\setcounter{tocdepth}{2}
\tableofcontents

\chapter{はじめに} \label{chap:introduction}
\pagenumbering{arabic}

「はじめに」もしくは「緒言」では、研究背景、目的、そして論文の構成を書く。第一章の前に目次をつける場合、目次のページ番号はi, ii,とローマ数字にして、本文からアラビア数字にするのが一般的だ。それを実現するため、\verb|\begin{document}|の直後にページ番号をローマ数字にするコマンド\verb|\pagenumbering{roman}|が、最初の\verb|\chapter|の後にアラビア数字にするコマンド\verb|\pagenumbering{arabic}|が挿入されている。

\section{研究の背景}

研究の背景は「なぜこの研究をしなければならないか」を、「大きい理由から小さい理由」へ書いていく。「大きい理由」は、「エネルギー問題」「安全」「便利」といった、「多くの人がほぼ納得するような理由」を挙げる。次に、その「大きな理由」を実現するために、これまでどのような試みがなされてきたかを説明する。これまでに読んだ論文のイントロダクションを参考に、必要な文献を引用しながら説得力のある文章を書くこと。

\section{研究の目的}

研究の背景を受けて、この研究分野は重要であるが、なんらかの不満点があることを述べる。その不満点は解決すべき問題であることを文献を引用しながら読者に納得させる。本研究の目的は、その不満点を解消することであることを述べ、その方法について簡単に述べる。

\section{本論文の構成}

論文の構成を説明する。まず本研究の目的を一行で書いてから、各章に何が書いてあるかを説明する。以下は例である。

\begin{quotation}
    本研究では、では、分野Aにおける手法Xの精度改善を行う。以下に本論文の構成を示す。第\ref{chap:introduction}章では、分野Aにおける手法の概観を紹介し、手法Xが広く用いられていることを示した。第\ref{chap:method}章では、本研究で用いる手法X、及びその改善手法であるX'について説明する。第\ref{chap:results}章では、本研究で提案した手法X'と、もととなった手法Xとの精度の比較を行う。第\ref{chap:summary}章では本研究で得られた知見を総括し、結論と今後の展望について述べる。
\end{quotation}

\chapter{原理}

\section{市場構造}

\subsection{注文の種類}
注文の種類は大きく2つに分けられる。1つ目が、指値注文である。指値注文は、「価格」と「数量」を指定して発注する注文である。指定した価格か、それより有利な価格でしか取引せず、即座に取引相手が見つからない場合はオーダーブックに登録され、市場に流動性を供給する役割を果たす。2つ目が、成行注文である。成行注文は、「価格」を指定せず、「数量」のみを指定して発注する注文である。オーダーブックに存在する最良の反対注文と即座に取引を成立させる。確実な取引成立を優先する一方で、価格の決定権を相手にゆだねる形となる。

\subsection{優先順位の原則}
取引所が株の売買を成立させる順序に乗っ取り、価格優先の原則と時間優先の原則によって注文の優先順を定める。

価格優先の原則より、買い注文については値段の高い注文が値段の安い注文に優先し、売り注文については値段の矢数注文が値段の高い注文に優先する。
時間優先の原則より、同じ値段の注文な場合、取引所が受け付けた時間の早い注文が遅い注文に優先する。

\section{ゼロ・インテリジェンス・トレーダー市場}

\subsection{ゼロ・インテリジェンス・トレーダー}
ゼロ・インテリジェンス・トレーダー（以下、ZIT）は、Gode and Sunder (1993) によって提唱されたエージェントモデルである[引用]。ZITは知能や戦略的思考を一切持たない極めて単純なアルゴリズムとして定義される。

ZITは、過去の価格推移（トレンド）、板情報の需給バランス、他者の行動といった市場情報を一切参照しない。また、学習機能や記憶も保持しておらず、その行動は確率的に決定される。
GodeとSunderは、ZITを制約なしモデル(ZI-U)と制約付きモデル(ZI-C)の2種類に分類している。ZI-Uは赤字となる取引も許容し、完全にランダムな価格で注文を出すもでるであり、ZI-Cは利益が負になる注文は出さないという予算制約のみを課したモデルである。本研究では、人間による市場取引の特性に近い挙動を示すことが確認されている ZI-C を採用し、以降単にZITと呼称する。

ZITの意思決定プロセスは、あらかじめ与えられた償還価値(Value)または原価(Cost)に基づく予算制約の範囲内での一様乱数によって決定される。各エージェント $i$ の注文価格決定ルールは2通りある。
買い手の場合、エージェントには、商品の評価額である私的価値 $V_i$ が割り当てられる。買い手は、自身の利益（$V_i - P_{bid}$）が確保できる範囲、すなわち $0$ から $V_i$ の間で、一様分布に従ってランダムに注文価格 $P_{bid}$ を決定する。
売り手の場合、エージェントには、商品の調達コストである原価 $C_i$ が割り当てられる。売り手は、自身の利益（$P_{ask} - C_i$）が確保できる範囲、すなわち $C_i$ から市場の上限価格 $P_{max}$ の間で、一様分布に従ってランダムに注文価格 $P_{ask}$ を決定する。
このアルゴリズムにより、ZITは安く買って高く売る」という戦略的な意図は持たないものの、「高く買って安く売るという明白な損失行動は回避される。

\subsection{GSモデル}
GSモデルとは、ZITエージェントを、連続ダブルオークションと呼ばれる市場メカニズムの中で取引させる市場シミュレーションモデルの総称である。
GSモデルにおいて、知能を持たないZITの集団であっても、適切な市場ルールが存在すれば、市場価格は理論的な均衡価格に速やかに収束することを示した。
また、社会的余剰の分配効率は平均97\%に達し、人間のトレーダーによる結果と遜色のない水準を示した。

本研究においてGSモデルを採用する意義は、機械学習を用いた戦略的エージェントの影響を評価するための基準のとしての役割にある。

\section{機械学習}

\subsection{ニューラルネットワーク}
ニューラルネットワークの基本単位は、生物学的なニューロンの働きを簡略化した人工ニューロンである。

各ニューロンは、複数の信号$x_1$,$x_2$,…,$x_n$を受け取り、それぞれの重要度を表す重み$w_i$を乗じて総和をとる。さらに、バイアス$b$を加え、その値を活性化関数$f(\cdot)$に通すことで出力$y$を決定する。この関係式は以下の式で表される。
$$
  y = f\left( \sum_{i=1}^{n} w_i x_i + b \right)
$$

本研究では、これらのニューロンを層状に結合させた多層パーセプトロン(multilayer perceptron, MLP)を採用している。

MLPは、データを受け取る「入力層」、特徴量を抽出する「中間層(隠れ層)」、最終的な予測値を出力する「出力層」から構成される。

\subsection{活性化関数}
ニューラルネットワークにおいて、活性化関数とは、ニューロンが受け取った入力信号を変換し、次のニューロンへの出力を決定する重要な関数である。これにより、ニューラルネットワークは非線形な問題を解決し、複雑なパターンを学習できる。本研究では主に以下の関数が用いられる。\\

\begin{enumerate}
    \item ReLU関数
\end{enumerate}

ReLU(Rectified Linear Unit)とは中間層で一般的に用いられる関数である。入力が0以下の場合は0を出力し、正の場合は入力をそのまま出力する。
$$
f(x) = \max(0, x)
$$
\begin{enumerate}
    \item ソフトマックス関数
\end{enumerate}

ソフトマックス関数とは分類問題における出力層で用いられる関数である。多クラス分類を行う際、出力層の各ニューロンの値を0から1の範囲に正規化し、その総和が 1 になるように変換する。
$$
y_i = \frac{e^{x_i}}{\sum_{j=1}^{K} e^{x_j}}
$$
これにより、ネットワークの出力を確率として解釈することが可能となり、エージェントは最も確率の高い行動を選択することができる。

\subsection{エージェントベースモデル}
エージェントベースモデルは、自律的に意思決定を行うエージェントをコンピュータ上に構築し、それらの相互作用の結果として創発されるマクロな現象を観察する手法である。

\subsection{教師あり学習}
教師あり学習とは、入力データとそれに対応する正解データのペアから、入力と出力の関係を表す関数$f$を学習する手法である。

\subsection{過学習}
モデルが学習データのノイズや細部まで過剰に適合してしまい、未知のデータに対する性能が低下する現象を過学習と呼ぶ。これを防ぐために、データセットを訓練データとテストデータに分割し、モデルの評価を行う手法が用いられる。
図\ref{fig:overfitting}に過学習が起きた時のグラフを示す。
学習初期では、青線も赤線もともに下がっており、モデルがデータの特徴を正しく学習している。緑の点線がロスが最小になる点である。モデルの汎化性能が最も高い状態であり、ここで学習を止めるのがベストとなる。
右側の赤い網掛けでは、青い線は下がり続けているが、赤い線は上昇し始めている。これが過学習であり、モデルが訓練データのノイズまで丸暗記してしまい、新しいデータに対応できなくなっている状態を示している。

\begin{figure}[htbp]
    \centering
    \includegraphics[width=10cm]{fig/overfitting.pdf}
    \caption{過学習}
    \label{fig:overfitting}
\end{figure}

\section{評価指標と統計的性質}

\subsection{ファットテール}
金融市場の価格変動や経済主体の資産分布において、正規分布から想定されるよりも、極端な値が高い頻度で出現する現象をファットテールと呼ぶ。
図\ref{fig:fat}にファットテールを示す。
統計学的に、正規分布の確率密度関数の裾指数関数的に急速に減衰する。
これに対し、現実の複雑系や経済現象に見られる分布の多くは、裾の減衰が緩やかであり、平均値から標準偏差の数倍以上離れた事象が無視できない確率で発生する特性を持つ。


\begin{figure}[htbp]
    \centering
    \includegraphics[width=10cm]{fig/fat_tail.pdf}
    \caption{正規分布とファット・テール分布の比較}
    \label{fig:fat}
\end{figure}

\subsection{相補累積分布関数(CCDF)}
CCDFは累積分布関数$F(x)$を用いて以下のように定義される。
\begin{equation}
    P(X \geq x) = 1 - F(x) = \int_{x}^{\infty} p(t) dt
\end{equation}
ここで、$P(X \geq x)$ は確率変数$X$がある値$x$以上となる確率を表し、$p(t)$は確率密度関数である。
CCDFは確率密度を積分した形式をとるため、データの離散に伴うノイズが平滑化される。
また、CCDFはべき乗則の検証において有効である。対象の分布がパレート分布などのべき分布に従う場合、CCDFを両対数グラフにプロットすると、その軌跡は右下がりの直線を描く。その傾きから、ファットテールの有無を検証することができる。


\chapter{手法} \label{chap:method}

\section{市場環境の構築}
\subsection{市場メカニズム}
本シミュレーションでは、価格形成の基礎的なダイナミクスを抽出するため、Gode and Sunderのモデルをさらに単純化した単一注文保持型の取引メカニズムを採用した。
市場には単一の板が存在し、この場は任意の時点$t$において、3つの状態を取る。1つめが空であり、板に注文が存在しない状態である。2つめが買い気配であり、1人の買い手による買い注文のみが提示されている。
3つめが売り気配であり、売り注文のみが提示されている状態である。本モデルでは、売り注文と買い注文が同時に板に滞留することはなく、直近の最良の未約定注文が1つだけ保持される。
マッチングには、価格優先の原則と時間優先の原則を適用した。

\subsection{場の更新プロセス}
各シミュレーションステップにおいて、ランダムに選出されたエージェントが指値注文を市場に提示することで取引が開始される。この時、提示された注文は板の状態及び、価格と照合され、その結果は「取引成立」「注文の上書き」「注文の棄却」のいずれかの挙動として現れる。

まず、取引成立するケースについて述べる。板に売り注文$P_\mathrm{board}$が滞留している状態で、新たな買い注文$P_mathrm{order}$が$P_b \ge P_mathrm{board}$という条件を満たして提示された場合、即座に売買が成立する。買いと売りが逆のケースも同様に売買が成立する。この際、約定価格は板に待機していた注文の価格が採用される。
約定後は、板に注文が存在しない空の状態へとリセットされる。

次取引に至らない場合の挙動として、注文の上書きと棄却がある。もし、取引が成立せず、新規注文が板の既存注文と比較して価格優先の原則において優位である場合、板の注文は新規注文によって上書きされる。
一方で、新規注文が既存注文よりも価格条件で劣る場合には、その注文は棄却され、板の状態は変化しない。


\section{エージェントモデル}

\subsection{Machine Learning Trader}
Machine Learning Trader (ML Trader)は、市場環境の状態を観測し、取引の成功確率を予測する機械学習モデルを搭載したエージェントである。
まず、価格決定においては戦略的な価格決定は行わず、0\~200の間でランダムに価格を選択する。価格を用いて、買い注文を出した場合と売り注文を出した場合のシナリオについて、現在の板情報と組み合わせた入力ベクトルを生成する。
内部に保持する学習済みモデルを用いて、両方のシナリオにおける約定確立を推測する。買い注文と売り注文の約定成功確率を比較し、より高い確率で約定が見込める役割を選択して注文を実行する。

\subsection{RuleTrader}
Rule Traderは、現在位の市場の板情報に応じて、確実に有利な配置をとる条件に基づいて行動するエージェントに設定する。
このエージェントは、まず価格をランダムに決定し、その後に市場の板の状態を参照する。板のエージェントが売り手の場合、エージェントの価格が市場の売り気配値以上であれば、即座に取引が可能であるため、買い注文を選択して約定させる。
逆に売り気配値より低い場合は、約定しないため、売り注文を選択して板に新たな指値を提示する。板のエージェントが買い手の場合は逆の行動をする。板が空の場合には、比較対象が存在しないため、ランダムに買い手または売り手を選択して注文を出す。

\section{機械学習モデルの構築}
エージェントが市場環境に適応的な行動を選択するための予測器として、ニューラルネットワークを用いた機械学習モデルを構築する。現在の市場の状態と自信がとろうとする行動を入力し、その注文がどのような結果をもたらすかを確率的に予測する。
順伝番型ニューラルネットワークを採用し、モデル層は入力層、複数の隠れ層および出力層から構成される。入力層は407次元のベクトルを受け取る。隠れ層の活性化関数にはReLUを採用し、出力層にはSoftmax関数を採用した。


\section{シミュレーション}
本実験におけるパラメータ設定を表\ref{tab:sim_params}に示す。1期間あたりのステップ数を4000として、それを100機関シミュレーションした。
シミュレーションは、ZITとMLトレーダーを混ぜて行い、MLトレーダーの割合は10\%～50\%とした。また、ZITとRuleトレーダーを混ぜて行い、割合も同様とした。

\begin{table}[htbp]

    \centering
    \caption{シミュレーションのパラメータ設定}
    \label{tab:sim_params}
    \begin{tabular}{lcc}
        \hline
        \textbf{パラメータ} & \textbf{記号} & \textbf{設定値} \\
        \hline
        エージェント総数 & $N$ & 2000 \\
        期間数 & $M$ & 100 \\
        1期間あたりのステップ数 & $T$ & 4000 ($2 \times N$) \\
        初期資産 & $W_0$ & 500 \\
        価格範囲 & $P$ & $[0, 200]$ \\
        \hline
    \end{tabular}
\end{table}

\chapter{結果} \label{chap:method}

\section{ML Traderの特性}

\subsection{取引パフォーマンスと成功率}
機械学習トレーダーの性能、混同行列、正解率など
シミュレーションの結果、MLトレーダーはZITの行動予測について正解率99\%で予測することができた。また、その結果を図\ref{fig:confusion}に混同行列として示す。
縦軸は実際に起きた事象であり、横軸は予測した事象となっている。

\begin{figure}[htbp]
    \centering
    \includegraphics[width=10cm]{fig/confusion_matrix.pdf}
    \caption{混同行列}
    \label{fig:confusion}
\end{figure}


\subsection{ML Traderの資産変動}
図\ref{fig:ccdf_zit}にZITだけでシミュレーションした時の最終資産分布の相補累積を示す。ガウス分布通りの結果であった。
図\ref{fig:cML10}から\ref{fig:cML50}に、MLトレーダーの市場混入率を10\%から50\%まで変化させた際の、最終資産分布の相補累積を示す。
これより、10\%、20\%においてファットテールが出現しており、それ以降ではガウス分布に従っていることが分かった。

\section{ML TraderとRule Traderの比較}
図\ref{fig:cRule10}から\ref{fig:cRule50}に、Ruleトレーダーの市場混入率を10\%から50\%まで変化させた際の、最終資産分布の相補累積を示す。
Ruleトレーダでは、10\%~30\%においてファットテールが出現しており、40\%ではガウス分布通りになっていた。また、50％では再度ファットテールが出現していた。

\subsection{エージェント混入率に対する資産分布パラメータの推移}
MLまたはRuleの市場全体に対する混入率を10\%から50\%まで変化させた際、最終的な資産分布をガウス分布 $N(\mu, \sigma^2)$ と仮定してフィッティングを行い、そのパラメータ（平均 $\mu$、分散 $\sigma$）の変化を計測した。
ZITのみで市場をシミュレーションした結果、$\mu$は500であり、$\sigma$は720となった。
表\ref{tab:asset_stats_ml}にZITとMLトレーダーの資産分布パラメータ推移を示す。
すべての混入率において、MLトレーダーの資産分布は平均840付近に集中し、ZITの分布を大きく上回る結果となった。
市場の資金がZITからMLへと一方的に移転していることをがわかった。また、標準偏差がすべてZITのみでの市場よりも上回っていることがわかった。
表\ref{tab:asset_stats_rule}にZITとRuleトレーダーの資産分布パラメータ推移を示す。
市場内の資金がMLトレーダーとは違い、ZITへと一方的に移転していることがわかった。また、標準偏差はすべてZITがRuleを上回っていた。

\begin{table}[htbp]
    \centering
    \caption{ZITとMLトレーダーの資産分布パラメータ推移（平均 $\mu$, 標準偏差 $\sigma$）}
    \label{tab:asset_stats_ml}
    \begin{tabular}{crrrr}
        \hline
        \textbf{混入率} & \multicolumn{2}{c}{\textbf{ZIT}} & \multicolumn{2}{c}{\textbf{ML Trader}} \\
        (\%) & $\mu$ (平均) & $\sigma$ (標準偏差) & $\mu$ (平均) & $\sigma$ (標準偏差) \\
        \hline
        %% --- Gnuplot出力貼り付けエリア ---
        10\% & 460.8 & 733.6 & 852.7 & 1004.8 \\
        20\% & 419.7 & 768.2 & 821.3 & 1129.5 \\
        30\% & 349.1 & 780.7 & 852.0 & 1097.9 \\
        40\% & 279.5 & 763.7 & 830.7 & 1023.8 \\
        50\% & 160.9 & 813.4 & 839.1 & 943.6 \\
        %% --------------------------------
        \hline
    \end{tabular}
\end{table}

\begin{table}[htbp]
    \centering
    \caption{ZITとRuleトレーダーの資産分布パラメータ推移（平均 $\mu$, 標準偏差 $\sigma$）}
    \label{tab:asset_stats_rule}
    \begin{tabular}{crrrr}
        \hline
        \textbf{混入率} & \multicolumn{2}{c}{\textbf{ZIT}} & \multicolumn{2}{c}{\textbf{Rule Trader}} \\
        (\%) & $\mu$ (平均) & $\sigma$ (標準偏差) & $\mu$ (平均) & $\sigma$ (標準偏差) \\
        \hline
        %% --- Gnuplotの出力をここに貼り付け ---
        110\% & 523.4 & 728.9 & 289.6 & 1098.5 \\
        20\% & 531.1 & 771.9 & 375.6 & 1104.9 \\
        30\% & 536.8 & 790.3 & 414.1 & 1094.2 \\
        40\% & 600.6 & 829.5 & 349.1 & 1088.8 \\
        50\% & 635.6 & 857.7 & 364.4 & 1162.0 \\
        %% -------------------------------------
        \hline
    \end{tabular}
\end{table}

\subsection{トレード履歴}
表\ref{tab:trade_stats_10pct}から\ref{tab:trade_stats_50pct}にZITとMLトレーダーの市場においての行動取引統計を示す。MLトレーダーは高い値段で買い、安い値段で売っているが、売りの回数が買いの回数よりも多いため、利益を得ていることが分かった。
また、表\ref{tab:rule_stats_10pct}から\ref{tab:rule_stats_50pct}にZITとRuleトレーダーの市場においての行動取引統計を示す。Ruleトレーダーは高い値段で買い、安い値段で売っているが、MLトレーダーよりも売りと買いの回数の差が少ないために損をしていることが分かった。
また、図\ref{fig:aML10}から\ref{fig:aML50}にZITとMLトレーダー市場での行動の割合の画像を示す。MLトレーダーはほぼ不成立がないことがわかった。

\begin{table}[htbp]
    \centering
    \caption{ZITとMLトレーダーの行動別取引統計（混入率10\%）}
    \label{tab:trade_stats_10pct}
    \begin{tabular}{lllrrr}
        \hline
        \textbf{Agent Type} & \textbf{Role} & \textbf{Action} & \textbf{Count} & \textbf{Total Price} & \textbf{Mean Price} \\
        \hline
        ZIT & Buyer & Overwrite & 43,281 & 4,039,278 & 93.3 \\
            &       & Executed  & 35,576 & 3,767,048 & 105.9 \\
            \cline{2-6}
            & Seller& Overwrite & 45,552 & 6,069,601 & 133.2 \\
            &       & Executed  & 31,820 & 3,696,517 & 116.2 \\
        \hline
        ML  & Buyer & Overwrite & 4,285 & 604,310 & 141.0 \\
            &       & Executed  & 7,009 & 858,078 & 122.4 \\
            \cline{2-6}
            & Seller& Overwrite & 8,746 & 695,425 & 79.5 \\
            &       & Executed  & 10,765 & 928,609 & 86.3 \\
        \hline
    \end{tabular}
\end{table}

\begin{table}[htbp]
    \centering
    \caption{ZITとMLトレーダーの行動別取引統計（混入率20\%）}
    \label{tab:trade_stats_20pct}
    \begin{tabular}{lllrrr}
        \hline
        \textbf{Agent Type} & \textbf{Role} & \textbf{Action} & \textbf{Count} & \textbf{Total Price} & \textbf{Mean Price} \\
        \hline
        ZIT & Buyer & Overwrite & 43,394 & 3,900,929 & 89.9 \\
            &       & Executed  & 35,991 & 3,578,930 & 99.4 \\
            \cline{2-6}
            & Seller& Overwrite & 45,539 & 6,155,463 & 135.2 \\
            &       & Executed  & 29,314 & 3,450,420 & 117.7 \\
        \hline
        ML  & Buyer & Overwrite & 8,282 & 1,153,394 & 139.3 \\
            &       & Executed  & 14,789 & 1,684,748 & 113.9 \\
            \cline{2-6}
            & Seller& Overwrite & 18,857 & 1,506,930 & 79.9\\
            &       & Executed  & 21,466 & 1,813,258 & 84.5\\
        \hline
    \end{tabular}
\end{table}

\begin{table}[htbp]
    \centering
    \caption{ZITとMLトレーダーの行動別取引統計（混入率30\%）}
    \label{tab:trade_stats_30pct}
    \begin{tabular}{lllrrr}
        \hline
        \textbf{Agent Type} & \textbf{Role} & \textbf{Action} & \textbf{Count} & \textbf{Total Price} & \textbf{Mean Price} \\
        \hline
        ZIT & Buyer & Overwrite & 42,370 & 3,656,729 & 86.3 \\
            &       & Executed  & 35,748 & 3,339,293 & 93.4 \\
            \cline{2-6}
            & Seller& Overwrite & 45,442 & 6,210,620 & 136.7 \\
            &       & Executed  & 26,583 & 3,128,095 & 117.7 \\
        \hline
        ML  & Buyer & Overwrite & 11,745 & 1,614,503 & 137.5 \\
            &       & Executed  & 23,160 & 2,469,765 & 106.6 \\
            \cline{2-6}
            & Seller& Overwrite & 30,672 & 2,485,957 & 81.0 \\
            &       & Executed  & 32,325 & 2,680,963 & 82.9\\
        \hline
    \end{tabular}
\end{table}

\begin{table}[htbp]
    \centering
    \caption{ZITとMLトレーダーの行動別取引統計（混入率40\%）}
    \label{tab:trade_stats_40pct}
    \begin{tabular}{lllrrr}
        \hline
        \textbf{Agent Type} & \textbf{Role} & \textbf{Action} & \textbf{Count} & \textbf{Total Price} & \textbf{Mean Price} \\
        \hline
        ZIT & Buyer & Overwrite & 40,158 & 3,353,007 & 83.5 \\
            &       & Executed  & 34,932 & 3,090,276 & 88.5 \\
            \cline{2-6}
            & Seller& Overwrite & 44,029 & 6,096,027 & 138.5 \\
            &       & Executed  & 23,824 & 2,825,728 & 118.6 \\
        \hline
        ML  & Buyer & Overwrite & 14,360 & 1,978,542 & 137.8 \\
            &       & Executed  & 32,220 & 3,237,738 & 100.5 \\
            \cline{2-6}
            & Seller& Overwrite & 44,293 & 3,600,807 & 81.3 \\
            &       & Executed  & 43,328 & 3,502,286 & 80.8 \\
        \hline
    \end{tabular}
\end{table}

\begin{table}[htbp]
    \centering
    \caption{ZITとMLトレーダーの行動別取引統計（混入率50\%）}
    \label{tab:trade_stats_50pct}
    \begin{tabular}{lllrrr}
        \hline
        \textbf{Agent Type} & \textbf{Role} & \textbf{Action} & \textbf{Count} & \textbf{Total Price} & \textbf{Mean Price} \\
        \hline
        ZIT & Buyer & Overwrite & 37,276 & 3,015,605 & 80.9 \\
            &       & Executed  & 33,318 & 2,777,456 & 83.4 \\
            \cline{2-6}
            & Seller& Overwrite & 42,151 & 5,875,114 & 139.4 \\
            &       & Executed  & 20,723 & 2,438,384 & 117.7 \\
        \hline
        ML  & Buyer & Overwrite & 16,405 & 2,235,514 & 136.3 \\
            &       & Executed  & 41,816 & 3,925,617 & 93.9 \\
            \cline{2-6}
            & Seller& Overwrite & 59,687 & 4,885,464 & 81.9 \\
            &       & Executed  & 54,411 & 4,264,689 & 78.4 \\
        \hline
    \end{tabular}
\end{table}

\begin{table}[htbp]
    \centering
    \caption{ZITとRuleトレーダーの行動別取引統計（混入率10\%）}
    \label{tab:rule_stats_10pct}
    \begin{tabular}{lllrrr}
        \hline
        \textbf{Type} & \textbf{Role} & \textbf{Action} & \textbf{Count} & \textbf{Sum} & \textbf{Mean} \\
        \hline
        ZIT & 買い & Overwrite & 44,646 & 4,193,447 & 93.9 \\
            &      & Executed  & 34,892 & 3,766,356 & 107.9 \\
            \cline{2-6}
            & 売り & Overwrite & 44,452 & 5,954,731 & 134.0 \\
            &      & Executed  & 32,128 & 3,786,768 & 117.9 \\
        \hline
        Rule& 買い & Overwrite & 5,789 & 765,179 & 132.2 \\
            &      & Executed  & 7,525 & 950,777 & 126.3 \\
            \cline{2-6}
            & 売り & Overwrite & 7,161 & 541,611 & 75.6 \\
            &      & Executed  & 10,289 & 930,365 & 90.4 \\
        \hline
    \end{tabular}
\end{table}

\begin{table}[htbp]
    \centering
    \caption{ZITとRuleトレーダーの行動別取引統計（混入率20\%）}
    \label{tab:rule_stats_20pct}
    \begin{tabular}{lllrrr}
        \hline
        \textbf{Type} & \textbf{Role} & \textbf{Action} & \textbf{Count} & \textbf{Sum} & \textbf{Mean} \\
        \hline
        ZIT & 買い & Overwrite & 45,743 & 4,164,043 & 91.0 \\
            &      & Executed  & 34,937 & 3,590,922 & 102.8 \\
            \cline{2-6}
            & 売り & Overwrite & 44,010 & 5,992,250 & 136.2 \\
            &      & Executed  & 30,166 & 3,629,491 & 120.3 \\
        \hline
        Rule& 買い & Overwrite & 12,514 & 1,618,941 & 129.4 \\
            &      & Executed  & 15,770 & 1,917,296 & 121.6 \\
            \cline{2-6}
            & 売り & Overwrite & 14,908 & 1,147,464 & 77.0 \\
            &      & Executed  & 20,541 & 1,878,727 & 91.5 \\
        \hline
    \end{tabular}
\end{table}

\begin{table}[htbp]
    \centering
    \caption{ZITとRuleトレーダーの行動別取引統計（混入率30\%）}
    \label{tab:rule_stats_30pct}
    \begin{tabular}{lllrrr}
        \hline
        \textbf{Type} & \textbf{Role} & \textbf{Action} & \textbf{Count} & \textbf{Sum} & \textbf{Mean} \\
        \hline
        ZIT & 買い & Overwrite & 44,567 & 3,948,665 & 88.6 \\
            &      & Executed  & 34,120 & 3,354,155 & 98.3 \\
            \cline{2-6}
            & 売り & Overwrite & 43,384 & 6,003,130 & 138.4 \\
            &      & Executed  & 27,992 & 3,439,141 & 122.9 \\
        \hline
        Rule& 買い & Overwrite & 19,822 & 2,522,978 & 127.3 \\
            &      & Executed  & 24,653 & 2,911,869 & 118.1 \\
            \cline{2-6}
            & 売り & Overwrite & 22,849 & 1,766,884 & 77.3 \\
            &      & Executed  & 30,781 & 2,826,883 & 91.8 \\
        \hline
    \end{tabular}
\end{table}

\begin{table}[htbp]
    \centering
    \caption{ZITとRuleトレーダーの行動別取引統計（混入率40\%）}
    \label{tab:rule_stats_40pct}
    \begin{tabular}{lllrrr}
        \hline
        \textbf{Type} & \textbf{Role} & \textbf{Action} & \textbf{Count} & \textbf{Sum} & \textbf{Mean} \\
        \hline
        ZIT & 買い & Overwrite & 42,956 & 3,688,280 & 85.9 \\
            &      & Executed  & 32,337 & 3,064,667 & 94.8 \\
            \cline{2-6}
            & 売り & Overwrite & 41,601 & 5,828,530 & 140.1 \\
            &      & Executed  & 25,563 & 3,183,123 & 124.5 \\
        \hline
        Rule& 買い & Overwrite & 27,155 & 3,411,213 & 125.6 \\
            &      & Executed  & 34,249 & 3,924,290 & 114.6 \\
            \cline{2-6}
            & 売り & Overwrite & 31,299 & 2,465,202 & 78.8 \\
            &      & Executed  & 41,023 & 3,805,834 & 92.8 \\
        \hline
    \end{tabular}
\end{table}

\begin{table}[htbp]
    \centering
    \caption{ZITとRuleトレーダーの行動別取引統計（混入率50\%）}
    \label{tab:rule_stats_50pct}
    \begin{tabular}{lllrrr}
        \hline
        \textbf{Type} & \textbf{Role} & \textbf{Action} & \textbf{Count} & \textbf{Sum} & \textbf{Mean} \\
        \hline
        ZIT & 買い & Overwrite & 41,066 & 3,441,163 & 83.8 \\
            &      & Executed  & 30,237 & 2,780,731 & 92.0 \\
            \cline{2-6}
            & 売り & Overwrite & 38,873 & 5,513,323 & 141.8 \\
            &      & Executed  & 20,723 & 2,925,478 & 126.4 \\
        \hline
        Rule& 買い & Overwrite & 36,052 & 4,478,623 & 124.2 \\
            &      & Executed  & 44,567 & 5,010,930 & 112.4 \\
            \cline{2-6}
            & 売り & Overwrite & 39,851 & 3,179,292 & 79.8 \\
            &      & Executed  & 51,651 & 4,866,183 & 94.2 \\
        \hline
    \end{tabular}
\end{table}


\begin{figure}[htbp]
    \centering
    \includegraphics[width=10cm]{fig/ccdf_zit.pdf}
    \caption{ZIT}
    \label{fig:ccdf_zit}
\end{figure}

\begin{figure}[htbp]
    \centering
    \includegraphics[width=10cm]{fig/ccdf_10.pdf}
    \caption{ML(10\%)}
    \label{fig:cML10}
\end{figure}

\begin{figure}[htbp]
    \centering
    \includegraphics[width=10cm]{fig/ccdf_20.pdf}
    \caption{ML(20\%)}
    \label{fig:cML20}
\end{figure}

\begin{figure}[htbp]
    \centering
    \includegraphics[width=10cm]{fig/ccdf_30.pdf}
    \caption{ML(30\%)}
    \label{fig:cML30}
\end{figure}

\begin{figure}[htbp]
    \centering
    \includegraphics[width=10cm]{fig/ccdf_40.pdf}
    \caption{ML(40\%)}
    \label{fig:cML40}
\end{figure}

\begin{figure}[htbp]
    \centering
    \includegraphics[width=10cm]{fig/ccdf_50.pdf}
    \caption{ML(50\%)}
    \label{fig:cML50}
\end{figure}

\begin{figure}[htbp]
    \centering
    \includegraphics[width=10cm]{fig/ccdf_R_10.pdf}
    \caption{Rule(10\%)}
    \label{fig:cRule10}
\end{figure}

\begin{figure}[htbp]
    \centering
    \includegraphics[width=10cm]{fig/ccdf_R_20.pdf}
    \caption{Rule(20\%)}
    \label{fig:cRule20}
\end{figure}

\begin{figure}[htbp]
    \centering
    \includegraphics[width=10cm]{fig/ccdf_R_30.pdf}
    \caption{Rule(30\%)}
    \label{fig:cRule30}
\end{figure}

\begin{figure}[htbp]
    \centering
    \includegraphics[width=10cm]{fig/ccdf_R_40.pdf}
    \caption{Rule(40\%)}
    \label{fig:cRule40}
\end{figure}

\begin{figure}[htbp]
    \centering
    \includegraphics[width=10cm]{fig/ccdf_R_50.pdf}
    \caption{Rule(50\%)}
    \label{fig:cRule50}
\end{figure}

\begin{figure}[htbp]
    \centering
    \includegraphics[width=10cm]{fig/action_ML10.pdf}
    \caption{ML(10\%)}
    \label{fig:aML10}
\end{figure}

\begin{figure}[htbp]
    \centering
    \includegraphics[width=10cm]{fig/action_ML20.pdf}
    \caption{ML(20\%)}
    \label{fig:aML20}
\end{figure}

\begin{figure}[htbp]
    \centering
    \includegraphics[width=10cm]{fig/action_ML30.pdf}
    \caption{ML(30\%)}
    \label{fig:aML30}
\end{figure}

\begin{figure}[htbp]
    \centering
    \includegraphics[width=10cm]{fig/action_ML40.pdf}
    \caption{ML(40\%)}
    \label{fig:aML40}
\end{figure}

\begin{figure}[htbp]
    \centering
    \includegraphics[width=10cm]{fig/action_ML50.pdf}
    \caption{ML(50\%)}
    \label{fig:aML50}
\end{figure}

\chapter{考察および結論} \label{chap:summary}

考察は、「研究の背景」及び「目的」において提起した問題に正しく答えるようにする。得られた結果は満足すべきものだったか？不満があるならその理由はなにか？解決できそうなのか？また、「大きい理由」にも言及する。本研究によりどのような課題が見つかったかを書き、この分野における「研究の流れ」においてのような位置づけにあるかを説明した上で、今後、どのような発展の方向があるかについて書く。

\chapter*{謝辞}

謝辞は卒業論文を執筆するにあたって、お世話になった人への感謝の気持ちを書く。まず指導教員、次にお世話になった先生、研究室の助教や研究員、その他研究の相談に載ってもらったり、アドバイスをもらった人への感謝を書く。次に研究室の仲間に一言ずつ。最後に家族、特に両親への感謝で締めると良い。

\appendix

\chapter{ソースコード}

\lstinputlisting[caption = 適当なPythonスクリプト, label = prog:sample]{src/sample.py}

\bibliographystyle{junsrt}
\bibliography{reference}

\end{document}